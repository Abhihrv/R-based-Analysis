---
title: "PCA on Arrests data"
---

PCA on the USArrests data set, which is part of the base R package. 
The rows of the data set contain the 50 states, in alphabetical order.

```{r}
states =row.names(USArrests )
states
```
```{r}
names(USArrests)
```
The columns of the data set contain the four variables
```{r}
apply(USArrests , 2, mean)
```
Means are different for each of the columns
```{r}
apply(USArrests , 2, var)
```
Different variances across each of the columns. Hence the need to scale the variables.
Now calculating the PCA using scale = TRUE
```{r}
pr.out =prcomp (USArrests , scale =TRUE)
```
By default, the prcomp() function centers the variables to have mean zero.
By using the option scale=TRUE, we scale the variables to have standard
deviation one.
```{r}
names(pr.out)

```
The center and scale components correspond to the means and standard deviations of the variables that were used for scaling prior to implementing PCA.
```{r}
pr.out$center
```
```{r}
pr.out$scale
```
The rotation matrix provides the principal component loadings; each column of pr.out$rotation contains the corresponding principal component loading vector.
```{r}
pr.out$rotation
```
We see that there are four distinct principal components. This is to be expected because there are in general min(n ??? 1, p) informative principal components in a data set with n observations and p variables.
We do not need to explicitly multiply the data by the principal component loading vectors in order to obtain the principal component score vectors. Rather the 50 ×4 matrix x has as its columns the principal component score vectors. That is, the kth column is
the kth principal component score vector.
```{r}
dim(pr.out$x )
```
Plotting the first two principal components as follows:-
```{r}
biplot (pr.out , scale =0)
```
Changing the sign of the components
```{r}
pr.out$rotation=-pr.out$rotation
pr.out$x=-pr.out$x
biplot (pr.out , scale =0,expand = 1)
```
Accessing the standard deviations
```{r}
pr.out$sdev
```
Accessing the variances
```{r}
pr.var =pr.out$sdev ^2
pr.var
```
To compute the proportion of variance explained by each principal component, we simply divide the variance explained by each principal component by the total variance explained by all four principal components:
```{r}
pve=pr.var/sum(pr.var )
pve
```
We can plot the PVE explained by each component, as well as the cumulative PVE, as follows:
```{r}
plot(pve , xlab=" Principal Component ", ylab=" Proportion of
Variance Explained ", ylim=c(0,1) ,type="b")

plot(cumsum (pve ), xlab=" Principal Component ", ylab ="
Cumulative Proportion of Variance Explained ", ylim=c(0,1) ,
type="b")
```

